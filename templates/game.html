{% extends "base.html" %}

{% block content %}
<div class="game-container">
    <canvas id="gameCanvas"></canvas>
    <div class="game-ui">
        <!-- Health Bar -->
        <div class="health-bar-container">
            <div class="health-bar">
                <div class="health-fill" id="healthFill"></div>
            </div>
            <span class="health-text">100HP</span>
        </div>

        <!-- Minimap -->
        <canvas id="minimap" width="150" height="150"></canvas>

        <!-- Admin Panel - Only show for admin users -->
        {% if not session.get('is_guest', False) and session.get('is_admin', False) %}
        <div class="admin-panel" style="display: none;">
            <h2>Admin Panel</h2>
            <select id="playerList" class="form-select mb-2">
                <option value="">Select Player</option>
            </select>
            <button id="killButton" class="btn btn-danger mb-2 w-100">Instant Kill</button>
            <button id="godModeButton" class="btn btn-warning mb-2 w-100">Toggle God Mode</button>
            <button id="modButton" class="btn btn-info mb-2 w-100">Toggle Moderator</button>
            <button id="kickButton" class="btn btn-danger mb-2 w-100">Kick Player</button>
            <button id="muteButton" class="btn btn-warning mb-2 w-100">Mute Player</button>
        </div>
        {% endif %}

        <!-- Mobile Controls -->
        <div class="controls-container">
            <!-- Left Joystick -->
            <div class="joystick-container">
                <div class="joystick-base">
                    <div class="joystick-stick"></div>
                </div>
            </div>

            <!-- Right Action Buttons -->
            <div class="action-buttons">
                <button class="action-button" id="shootButton">
                    <span class="action-icon">ðŸŽ¯</span>
                </button>
                <button class="action-button" id="reloadButton">
                    <span class="action-icon">ðŸ”„</span>
                </button>
            </div>
        </div>

        <!-- Weapon Slots -->
        <div class="weapon-slots">
            <div class="weapon-slot" data-weapon="1">1</div>
            <div class="weapon-slot" data-weapon="2">2</div>
            <div class="weapon-slot" data-weapon="3">3</div>
            <div class="weapon-slot" data-weapon="4">4</div>
        </div>
        <div class="ammo-counter" id="ammoCounter">30/30</div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/game.js"></script>
{% endblock %}